\documentclass{article}
\usepackage{blindtext}
\usepackage[a4paper, total={6in, 8in}]{geometry}

\title{READ ME: Using These Files}
\author{Jeff Gerber}
\date{November 13, 2023}

\begin{document}

\maketitle

This folder contains all the necessary files to reproduce the results from my bachelor's thesis analyzing the effects of Beyond Standard Model Physics (BSM) on stellar evolution. This project uses Modules for Experiments in Stellar Astrophysics (MESA) version 23.05.1 (download instructions at docs.mesastar.org/en/latest/quickstart.html) to simulate the stellar lifetimes of varied stellar populations with and without the axion-like particle (ALP), hidden photon (HP), and neutrino magnetic moment (NMM). Generating these simulations allowed significant constraints on the parameter spaces (ranges of possible masses and interaction strengths) of these theorized extensions. The rest of this file contains a summary of the documents in this folder, while more detailed comments on settings are included in the Batch\_Scripts, inlists, and run\_star\_extras.f90 file.

\begin{itemize}
    \item Folders containing 'LOGS': This is where MESA stores data. When MESA runs, it saves data every few steps and puts it in the LOGS folder. When the run finishes, the contents of the LOGS folder move to a new folder with a name specified in the ./rn file. For example, when running inlist\_all or inlist\_high\_mass, data is saved in the LOGS folder until the run triggers a specified stopping condition. At this point, MESA copies the data to the LOGS\_all folder. Please note that if the LOGS folder contains any data when another run finishes, MESA will write over data from the previous run. Since this project requires saving and analyzing larger data sets than those permanently stored in the LOGS folder, I store data in the results folder instead. Thus, the only use for the 'LOGS' folders here is to ensure that the code knows there is somewhere to store data.
    \item The 'make' folder:  Adequately named, the make folder contains the files that allow a test in MESA to 'make' AKA compile. Do not edit anything in this folder; instead download it as is.
    \item Photos folder: MESA will save graphics in the photos folder at specified intervals. Note that one must remove the ! from in front of the "pgstar\_flag = .true." command for this to work. However, this project does not use pgstar data. Thus, the photos folder is only included to indicate to the code there is somewhere to save photos if they are generated.
    \item The 'results' folder: This folder contains all the data that would normally be printed to the terminal during a single run. Since these simulations were conducted with the help of a large computing cluster, it was impossible to save/analyze terminal output while it was occurring. Instead, I used SLURM (A cluster workload manager) commands to save all of the output here.
    \item SRC folder: This folder contains run\_star\_extras.f90 file, the xtra\_coeff\_os folder, and the run.f90 file. The run.f90 file directs the program to start running the star\_job module in each inlist, and you should probably avoid messing with this file.
    \item xtra\_coeff\_os folder: This folder contains code for additional methods governing spatial resolution. This code tells MESA to increase the number of regions in "problem areas" (Those with rapidly changing environments, like the Helium Core just before the flash).
    \item run\_star\_extras.f90: This file contains additional code governing a wide range of topics like which set of physics to use, which data to keep track of, and when to end the simulations. When one wants to change the MESA code to optimize their research, this is usually where they go. For example, I added BSM to MESA by finding the energy loss associated with each theorized extension and then implementing that additional energy loss by adding a method called "other\_neu" to this file. The low\_mass\_wind\_scheme and extras\_finish\_step methods included in this file were taken from MIST (https://waps.cfa.harvard.edu/MIST/).
    \item .mod files: Whenever a run finishes, MESA saves the run's last step's data as a .mod file. If one wanted to run an additional inlist with prior data, the ./mod file would allow a new run to load previously completed ones.
    \item testhub.yml file: This file contains the data description of the last run, including the number of steps in each inlist, how long each inlist took, the number of retries, etc. This should primarily be used for debugging to look for sections where efficiency and convergence might be slowed.
    \item ck: Defines the method check\_one. Do not edit the contents of this file. However, you must change this to a Unix Executable File after downloading it from this drive.
    \item clean: 'Cleans' the folder from any previous runs, using methods from the make folder. Before starting a new run (not restarting a run in the middle), you should clean the data by typing ./clean in the terminal. Otherwise, you risk running into heap allocation errors and other memory errors. Do not edit the contents of this file, however, you must change this to a Unix Executable file before it can be run.
    \item mk: Compiles all of the files in the folder. After editing and saving any document, you must use ./mk into the terminal such that the new code compiles. Do not edit the contents of this file, however, you must change this to a Unix Executable file before it can be run.
    \item rn: When the ./rn command is put in the terminal, this file runs inlist\_all (Corresponding to masses up to 10 $M_{\odot}$), saves data to the LOGS\_all folder, and saves the last step to the inlist\_all.mod file when it finishes. I recommend opening this file in a text editor to observe what's going on. Once again, you must change this to a Unix Executable file before it can be run.  
    \item rn\_high: When the ./rn\_high command is put in the terminal, this file runs inlist\_high\_mass (Corresponding to masses above 10 $M_{\odot}$), saves data to the LOGS\_all folder, and saves the last step to the inlist\_all.mod file when it finishes. I recommend opening this file in a text editor to observe what's going on. Once again, you must change this to a Unix Executable file before it can be run.  
    \item rn\_standard: I don't know why this exists, but it does. It contains the same text as the rn file, and must become a Unix Executable File.
    \item rn1: Another file with vague usage, this is sometimes called by the rn file. Do not edit the contents of this file, and this must become a Unix Executable File.
    \item re: The ./re command allows the code to restart a run at the last saved model, but only runs up until the end of the current inlist. This is because when an inlist is run, the text is copy pasted into the inlist file. While the rn file can edit the inlist file, the re file does not. This is useful if you want to change some inlist settings mid-run.
    \item star: This has vague usage, but is necessary. Do not edit the contents of this file, and this must become a Unix Executable File.
    \item History and Profile Columns: These describe the nature of the data that is being collected in the LOGS folders. If you require a different selection of data being collected (say central temperature), you must edit these files to include a label for central temperature. I would advise against editing these unless it's necessary, a wide range of data is already collected that can be made useful.
    \item Batch\_Scripts: Contains code for running many simulations simultaneously, specifically created to match the infrastructure of the Amherst College Computing Cluster. 
    \item ALP\_Data and BSM: These text files contain some of the necessary information to add axion-like particles into MESA. One specifies ALP mass and interaction strength in the BSM file, whereas the ALP\_Data file contains a bunch of pre-calculated integrals relating to the production of ALPs in stellar interiors. These text files were taken from github.com/fhiskens/mesa\_alps.
    \item inlists: Lastly, the inlists contain the mixing, diffusion, overshoot, and solver controls necessary to accurately simulate stars. If one wants to change the settings that are already included in the base version of MESA, this is usually where they would go.
\end{itemize}
\end{document}
